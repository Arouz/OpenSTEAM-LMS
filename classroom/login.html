<!-- page de garde -->
<!-- <div id="notif-div"></div> -->
<style>
    .aren-logo {
        max-width: 250px;
        margin-bottom: 1.25em;
    }

    #classroom-faq h2 {
        font-size: 3em;
    }

    .navbar {
        background-color: #eaf4fb;
    }

    .navbar a {
        color: var(--classroom-text-1) !important;
    }

    .navbar .dropdown-menu,
    .navbar .dropdown-item {
        background: var(--classroom-background);
        color: var(--classroom-text-0);
    }

    .navbar .dropdown-item:focus,
    .navbar .dropdown-item:hover {
        background: var(--classroom-background);
        color: var(--classroom-text-1) !important;
    }

    .theme-dark .navbar {
        background-color: #0c293d;
    }
</style>

<nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="/classroom/login.php">
        <img src="./assets/plugins/images/logo_aren-education-plus.png" height="30" alt="arèn+ logo">
    </a>
    <div class="collapse navbar-collapse">

        <ul class="navbar-nav mr-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="languageDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-i18n="classroom.modals.settingsTeacher.lang">
                    Langue
                </a>
                <div class="dropdown-menu" aria-labelledby="languageDropdown">
                    <button class="dropdown-item" onclick="changeLang('fr')">Français</button>
                    <button class="dropdown-item" onclick="changeLang('en')">English</button>
                </div>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="accessibilityDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-i18n="switchAccessibility.title">
                    Accessibilité
                </a>
                <div class="dropdown-menu a11y-dropdown" aria-labelledby="accessibilityDropdown">
                    <form action="javascript:void(0);" id="access-form">
                        <h5 class="c-text-primary text-center"><i class="fas fa-low-vision"></i> <span data-i18n='switchAccessibility.title'></span></h5>

                        <h5 data-i18n='switchAccessibility.theme'>Thème</h5>
                        <div style="margin: 0 auto; width: 196px">
                            <input type="radio" id="radio-light-theme" name="theme" value="light">
                            <label for="radio-light-theme" data-i18n='switchAccessibility.light_theme'>Thème
                                clair</label><br>

                            <input type="radio" id="radio-dark-theme" name="theme" value="dark">
                            <label for="radio-dark-theme" data-i18n='switchAccessibility.dark_theme'>Thème
                                sombre</label><br>
                        </div>

                        <h5 data-i18n='switchAccessibility.font'>Polices</h5>
                        <div style="margin: 0 auto; width: 196px">
                            <input type="radio" id="radio-basic-font" name="font" value="basic">
                            <label for="radio-basic-font" style="font-family: 'Open Sans'!important" data-i18n='switchAccessibility.basic_font'>Basique</label><br>

                            <input type="radio" id="radio-luciole-font" name="font" value="luciole">
                            <label for="radio-luciole-font" style="font-family: 'Luciole'!important">Luciole</label><br>

                            <input type="radio" id="radio-dys-font" name="font" value="dys">
                            <label for="radio-dys-font" style="font-family: 'OpenDyslexic'!important">OpenDyslexic</label><br>

                            <input type="radio" id="radio-arial-font" name="font" value="arial">
                            <label for="radio-arial-font" style="font-family: 'Arial'!important">Arial</label><br>

                            <input type="radio" id="radio-verdana-font" name="font" value="verdana">
                            <label for="radio-verdana-font" style="font-family: 'Verdana'!important">Verdana</label><br>
                        </div>
                    </form>
                </div>
            </li>

        </ul>
    </div>
</nav>

<div id="home-container" class="container">
    <div class="row my-5">
        <div class="col-md-6">
            <img class="aren-logo" src="./assets/plugins/images/logo_aren-education-plus.png" alt="Arèn logo">
            <p data-i18n="aren.login.subtitle">Une nouvelle façon pour les enseignants de profiter pleinement de la technologie !</p>

            <div id="open-login-menu" style="flex-grow:2;">
                <button class="btn btn-lg c-btn-outline-primary" id="home-connexion">
                    <i class="fas fa-lock"></i>
                    <span data-i18n="classroom.login.login"></span>
                </button>
            </div>
        </div>

        <div class="col-md-6">
            <img class="img-fluid mt-3" src="./assets/plugins/images/devices.png" alt="Illustration">
        </div>
    </div>

    <div id="classroom-faq">
        <div class="container py-5 mb-3">
            <h2 data-i18n="faqInfo.title"></h2>
        </div>
    </div>

</div>

<!-- Please refrain from editing the next sections, as they are used for the login system -->

<!-- page de login à choix multiple -->
<div id="classroom-login-container" style="display:none;">
    <div class="inner-login-container">
        <div id="classroom-login-code" class="container-border-left">

            <h3 class="font-weight-bold c-text-secondary" data-i18n="classroom.login.student"></h3>
            <div class="c-secondary-form mb-3">
                <img src="assets/media/orange_lock.png" class="icon-label">
                <label for="secret_code" data-i18n="classroom.login.codeInput"></label></br>
                <input type="text" placeholder="123ABC" name="secret_code" id="class-code" required>
            </div>
            <button class="btn c-btn-secondary" id="class-connexion" type="submit"><span class="text-capitalize" data-i18n="words.confirm"></span>
                <i class="fas fa-chevron-right"></i></button>
        </div>
        <div id="classroom-login-vittascience-account" class="container-border-center">
            <h3 class="font-weight-bold c-text-primary" data-i18n="classroom.login.teacher"></h3>
            <p data-i18n="classroom.login.hasAccount"></p>
            <span id="login-vittascience" class="btn c-btn-primary" role="button">
                <span data-i18n="classroom.login.login"></span> <i class="fas fa-chevron-down"></i>
            </span>
            <span class="btn c-btn-primary mt-3" id="register-link">
                <span class="text-white" data-i18n="classroom.login.registerLink"></span>
                <i class="fas fa-chevron-down"></i>
            </span>
        </div>
        <div id="classroom-login-gar" class="container-border-right">
            <i class="fas fa-handshake fa-7x c-text-tertiary"></i>
            <span class="gar-presentation-text my-3" data-i18n="[html]aren.login.gar"></span>
        </div>
        <button onclick="navigateLight('', 1)" class="btn close-login-classroom"><i class="fas fa-times"></i></button>

    </div>
</div>
<!-- Register page -->
<div id="classroom-register-container" style="display:none;">
    <div class="inner-register-container">

        <form action="#" id="create-teacher-account-form">
            <div class="form-group part-content-index part-row c-primary-form row">

                <div class="col-md-12">
                    <h3 class="font-weight-bold green-vitta text-center mb-4 text-uppercase" data-i18n="manager.account.registration.title"></h3>
                    <p class="text-center" ><span data-i18n="manager.account.registration.description"></span> <span data-i18n="[html]manager.account.registration.mandatory"></span></p>

                </div>

               

                <div class="col-md">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-first-name" class="tutorial-label" data-i18n="[html]manager.profil.firstname"></label>
                        <input type="text" name="first-name" id="profile-form-first-name" class="form-control form-control-lg">
                    </div>
                </div>
                <div class="col-md">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-last-name" class="tutorial-label" data-i18n="[html]manager.profil.lastname"></label>
                        <input type="text" name="last-name" id="profile-form-last-name" class="form-control form-control-lg">
                    </div>
                </div>


                <div class="col-md" id="registration_pseudo">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-pseudo" class="tutorial-label" data-i18n="[html]manager.profil.nickname"></label>
                        <input type="text" name="pseudo" id="profile-form-pseudo" class="form-control form-control-lg">
                    </div>
                </div>

                <div class="col-md">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-email" class="tutorial-label" data-i18n="[html]manager.profil.email"></label>
                        <input type="email" name="email" id="profile-form-email" class="form-control form-control-lg">
                    </div>
                </div>

                <div class="col-md" id="registration_phone">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-phone" class="tutorial-label" data-i18n="manager.profil.phone"></label>
                        <input type="text" name="phone-number" class="form-control form-control-lg" id="profile-form-phone" data-i18n="[placeholder]aren.login.placeholder-phone">
                    </div>
                </div>

                <div class="col-md-12" id="registration_bio">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-bio" class="tutorial-label" data-i18n="[html]manager.profil.bio"></label>
                        <textarea class="form-control form-control-lg" name="mini-bio" id="profile-form-bio" rows="3" data-i18n="[placeholder]aren.login.placeholder-bio"></textarea>
                    </div>
                </div>

                <div class="col-md-12" id="registration_school">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_lock.png" class="icon-label">
                        <label for="profile-form-school" class="tutorial-label" data-i18n="[html]manager.profil.school"></label>
                        <input type="text" class="form-control form-control-lg" name="school" id="profile-form-school">
                    </div>
                </div>

                <div class="col-md" id="registration_grade">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-grade" class="tutorial-label" data-i18n="[html]manager.profil.grade"></label>
                        <select class="form-control" id="profile-form-grade" name="grade">
                            <option selected value="0" data-i18n="manager.users.teacherGrades.0">Primaire</option>
                            <option value="1" data-i18n="manager.users.teacherGrades.1">Collège</option>
                            <option value="2" data-i18n="manager.users.teacherGrades.2">Lycée</option>
                            <option value="3" data-i18n="manager.users.teacherGrades.3">Lycée professionel</option>
                            <option value="4" data-i18n="manager.users.teacherGrades.4">POST-BAC</option>
                        </select>
                    </div>
                </div>

                <div class="col-md" id="registration_subject">
                    <div class="form-row mb-4">
                        <img src="assets/media/green_user.png" class="icon-label">
                        <label for="profile-form-subject" class="tutorial-label" data-i18n="[html]manager.profil.subject"></label>
                        <select class="form-control" id="profile-form-subject" name="subject">
                        </select>
                    </div>
                </div>

                <div class="col-md">
                    <div>
                        <img src="assets/media/green_lock.png" class="icon-label">
                        <label for="profile-form-password" class="tutorial-label" data-i18n="[html]manager.profil.password"></label>
                    </div>
                    <div class="form-inline">
                        <input type="password" name="password" id="profile-form-password" class="form-control form-control-lg">
                        <i class="classroom-clickable fas fa-low-vision ml-2 password-display-toggler"></i>
                        <p class="font-italic ml-2" data-i18n="manager.profil.passwordConstraints"></p>
                    </div>
                </div>

                <div class="col-md">
                    <img src="assets/media/green_lock.png" class="icon-label">
                    <label for="profile-form-confirm-password" class="tutorial-label" data-i18n="[html]manager.profil.confirmPassword"></label>
                    <div class="form-inline">
                        <input type="password" name="confirm-password" id="profile-form-confirm-password" class="form-control form-control-lg">
                        <i class="classroom-clickable fas fa-low-vision ml-2 password-display-toggler"></i>
                    </div>
                </div>
            </div>
            <p data-i18n="[html]manager.account.registration.disclaimerVittascience"></p>
            <p data-i18n="[html]manager.account.registration.cguVittascience"></p>

            
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="cb_newsletter">
                <label class="form-check-label" for="cb_newsletter" data-i18n="manager.account.registration.newsletter">
                </label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="cb_adult" required>
                <label class="form-check-label" for="cb_adult" data-i18n="manager.account.registration.confirmAdult">
                </label>
            </div>

            <div class="col-md-12 d-flex flex-column align-items-center">
                <input class="btn browse-button mx-auto mt-3 btn-lg" type="submit" data-i18n="[value]classroom.login.signup">
            </div>

        </form>
        <button onclick="navigateLight('login-choice')" class="btn close-login-classroom mt-3 mr-3">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>



<div id="login-container" style="display:none;position:relative;">
    <div class="login-form" id="signupin-div">
        <h1 class="font-weight-bold c-text-primary"><span class="fa fa-sign-in-alt"></span> <span data-i18n="login_popup.title"></span></h1>
        <button onclick="navigateLight('login-choice')" class="btn close-login-classroom"><i class="fas fa-times"></i></button>

        <p data-i18n="login_popup.details"></p>
        <p><a data-i18n="login-page.createAccount" href='#' onclick="displaySignupClass();"></a></p>
        <div id="info-div">

        </div>
        <form id="login-form" class="c-primary-form">

            <div>
                <img src="assets/media/green_user.png" class="icon-label">
                <label for="login-mail-input" data-i18n="login_popup.form.addressmail"></label>
            </div>
            <input name='mail' style="margin-bottom:5px;" data-i18n="[placeholder]login_popup.form.addressmail_placeholder" class="form-control" type="email" id="login-mail-input">

            <div>
                <img src="assets/media/green_lock.png" class="icon-label">
                <label for="login-pwd-input" data-i18n="login_popup.form.password"></label>
            </div>
            <input name='password' data-i18n="[placeholder]login_popup.form.password_placeholder" class="form-control" type="password" id="login-pwd-input">

            <input type="text" name="za78e-username" autocomplete="off" value="" id="za78e-username" class="za78e-field" placeholder="za78e username" />
            <input type="number" name="za78e-number" autocomplete="off" max="10" min="0" id="za78e-number" class="za78e-field" placeholder="za78e number" />

            <div>
                <a class="hint" href="/classroom/password_manager.php" data-i18n="login_popup.form.forgot_password"></a>
            </div>
            <button type='button' style="margin-top:10px;" onclick="checkLogin();" class="btn c-btn-primary" id="login-button" data-i18n="login_popup.form.btn_connect"></button>
        </form>
    </div>
</div>

<!-- page de login via un lien -->
<div id="classroom-login-container-bis" style="display:none;">
    <div class="inner-login-container">
        <p id="classroom-desc"></p>
        <div id="classroom-create-account" class="container-border-left container-border-left-enable">
            <h3 class="font-weight-bold c-text-primary" data-i18n="classroom.login.signup"></h3>
            <div class="c-primary-form">
                <p data-i18n="classroom.login.firstVisit"></p>
                <img src="assets/media/green_user.png" class="icon-label">
                <label for="username" data-i18n="words.username" class="text-capitalize"></label></br>
                <input type="text" placeholder="Vitta" name="username" id="new-user-pseudo-form" required>
            </div>
            <button class="btn c-btn-primary" id="create-user" type="submit"><span data-i18n="words.confirm"></span> <i class="fas fa-chevron-right"></i></button>
            <span id="warning-pseudo-used" style="display:none;" data-i18n="classroom.login.error.used"></span>
        </div>
        <div id="classroom-login-account" class="container-border-right">
            <div class="c-primary-form">
                <h3 class="font-weight-bold c-text-primary" data-i18n="classroom.login.signin"></h3>
                <p data-i18n="classroom.login.hasReturned"></p>

                <img src="assets/media/green_user.png" class="icon-label">
                <label for="username" data-i18n="words.username" class="text-capitalize"></label></br>
                <input type="text" placeholder="Vitta" id="user-pseudo-form" name="secret_code" required></br>

                <img src="assets/media/green_lock.png" class="icon-label">
                <label for="username" data-i18n="words.password"></label></br>
                <input type="password" placeholder="••••••••••" name="secret_code" id="user-password-form" required></br>
                <a href="#" data-i18n="classroom.login.forgot"></a></br>
                <span class="mt-2 mb-2 alert alert-warning mismatched-login" style="display:none;" data-i18n="classroom.login.error.badInput"></span>
            </div>
            <button class="btn c-btn-primary" id="connect-nongar-user"><span data-i18n="words.confirm" class="text-capitalize"></span> <i class="fas fa-chevron-right"></i></button>
        </div>
        <button onclick="navigateLight('login-choice')" class="btn close-login-classroom"><i class="fas fa-times"></i></button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
</script>
<script src="assets/js/lib/i18next.js"></script>
<script src="assets/js/lib/jquery-i18next.min.js"></script>
<script src="assets/js/lib/i18nextXHRBackend.min.js"></script>
<script src="assets/js/lib/i18nextBrowserLanguageDetector.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script src="assets/js/utils/translate.js"></script>
<script src="assets/js/utils/get.js"></script>
<script src="assets/js/scripts/dashboardActivities.js"></script>
<script src="assets/js/scripts/displayPanel.js"></script>
<script src="assets/js/lib/EasyAutocomplete-1.3.5/jquery.easy-autocomplete.min.js"></script>
<script src="assets/js/main/Loader.js"></script>
<script src="assets/js/main/UIManager.js"></script>
<script src="assets/js/main/User.js"></script>
<script src="assets/js/main/ClassroomManager.js"></script>
<script src="assets/js/main/Main.js"></script>
<script src="assets/js/scripts/main-login.js"></script>
<script src="assets/js/utils/registrationTemplate.js"></script>
<script src="assets/js/scripts/buttons.js"></script>
<script src="assets/js/scripts/login.js"></script>
<script src="assets/plugins/js/add-loginpage-faq-strings.js"></script>
<script>
    UIManager.init().then((resolve) => {
        UserManager.init().then((resolve) => {
            Main.init().then((resolve) => {
                loginFaq();
                /* FAQ BOXES */
                var headers = document.getElementsByClassName("faq-box-header");
                $(headers).rotate({
                    bind: {
                        click: function () {
                            var drop = $(this).find(".faq-box-dropdown");
                            var content = $(this).parent().find(".faq-box-content");
                            if (drop.hasClass("dropped")) {
                                drop.rotate({
                                    angle: drop.getRotateAngle(),
                                    animateTo: 0
                                });
                                content.fadeOut("slow", function () {
                                    drop.removeClass("dropped");
                                });
                            } else {
                                drop.rotate({
                                    angle: drop.getRotateAngle(),
                                    animateTo: 90
                                });
                                content.fadeIn("slow", function () {
                                    drop.addClass("dropped");
                                });
                            }
                        }
                    }
                });
                if ($_GET('link') && firstRequestClass) {
                    firstRequestClass = false;
                    navigateLight($_GET('link'), 2)
                }
                // Set the variable to false to indicate that the registration template is already set up
                firstRegisterLoad = false;
                // Setup the registration form before displaying it (trigger only on loading page)
                createRegistrationTemplateForLogin();
                // little delay to let the constant file load
                setTimeout(() => {
                    createSubjectSelectTeacherForm(getSubjects(0));
                }, 500);
            })
        },
            (reason) => {
                console.log("UserManager failed to load: " + reason);
                failedToLoad();
            }
        );
    })
</script>